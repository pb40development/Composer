<div class="md:ap-max-w-[600px]">
  <ap-dialog-title-template i18n>Review Changes
    </ap-dialog-title-template>
</div>

<mat-dialog-content>
  <div class="md:ap-max-w-[600px]">
    <div class="ap-typography-body-1">These are the changes that will be pulled from the repository:</div>
    <mat-list>
      @for (operation of this.data.operations; track operation) {

        @switch (operation.type) {
          @case (ProjectOperationType.CREATE_FLOW) {
            <mat-list-item>
              <mat-icon matListItemIcon class="!ap-text-success">add</mat-icon>
              <h3 matListItemTitle class="!ap-text-success">Create "{{operation.flow.displayName}}" Flow</h3>
            </mat-list-item>
          }
          @case (ProjectOperationType.UPDATE_FLOW) {
            <mat-list-item>
              <mat-icon matListItemIcon class="!ap-text-warn-dark">upgrade</mat-icon>
              <h3 matListItemTitle class="!ap-text-warn-dark">Update "{{operation.targetFlow.displayName}}" Flow</h3>
            </mat-list-item>

          }
          @case (ProjectOperationType.DELETE_FLOW) {
            <mat-list-item>
              <mat-icon matListItemIcon class="!ap-text-danger">remove</mat-icon>
              <h3 matListItemTitle class="!ap-text-danger">Delete "{{operation.flow.displayName}}" Flow</h3>
            </mat-list-item>
          }
        }


        }@empty {
      }
    </mat-list>
  </div>

</mat-dialog-content>

<mat-dialog-actions align="end">
  <div class="ap-flex ap-gap-2.5">
    <ap-button btnColor="basic" mat-dialog-close btnSize="default" btnColor="basic" i18n>
            Cancel
        </ap-button>
    <ap-button btnSize="default" type="submit" (click)="submit();" btnColor="primary" i18n
      [loading]="(loading$ | async) || false">
            Confirm
        </ap-button>
  </div>
</mat-dialog-actions>
@if (pull$ | async) {
}