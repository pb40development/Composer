<div class="px-3 pt-3" #header>
  <ng-container *ngIf="(displayNameChanged$ | async ) ==='' || (displayNameChanged$ | async ) !=='' ">
    <ap-sidebar-header (closeClicked)="closeSidebar()">
      <app-step-name-editor></app-step-name-editor>
    </ap-sidebar-header>
  </ng-container>
</div>



<ng-container *ngIf="selectedStepAndFlowId$ | async as selectedStepAndFlowId; else loading">
  <ng-container *ngIf="selectedFlowItemDetails$  | async; else loading">
    
    <div class="ap-overflow-y-auto thin-scrollbars" [style.height]="'calc(100% - ' + (header.clientHeight) + 'px )'">
      <div #ItemType class="ap-p-5">
        <app-step-type-item [clickable]="false" [flowItemDetails$]="selectedFlowItemDetails$"></app-step-type-item>
      </div>
      <app-edit-step-form-container [selectedStep]="selectedStepAndFlowId.step!">
      </app-edit-step-form-container>
    </div>
   

  </ng-container>

</ng-container>


<ng-template #loading>
  <div class=" ap-flex ap-flex-grow ap-justify-center ap-items-center ap-h-[500px]">
    <ap-loading-icon> </ap-loading-icon>
  </div>
</ng-template>